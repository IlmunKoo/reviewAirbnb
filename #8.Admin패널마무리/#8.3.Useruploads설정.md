#8.3 Configuring User Uploads part One

> photo에 별다른 설정을 하지 않은 현재는 photo 업로드할 때마다 photo가 파일 루트에 저장이 되고, 우리는 그것을 원하지 않음

> admin 패널로 갔을 때 photo 클릭하면 파일 찾지 못한다고 함
> https://user-images.githubusercontent.com/59404684/90905156-ba9eda00-e40a-11ea-9190-b0889abb4b8a.png

> url 살펴보면 이상한 url이 있음->photo에 아직 url 없기 때문
> 장고에게 url 주고 그 url로 가면 우리가 올린 모든 사진을 볼 수 있도록 해야 함!

1. 먼저 도착지를 바꾼다 1. media_root라는 변수를 사용(장고에게 어디에 우리가 업로드한 파일을 써야 할지 말해주는 파일)
   media_root는 절대경로 가져야 함(BASE_DIR 활용)

config.settings에

```python
MEDIA_ROOT = os.path.join(BASE_DIR, "uploads")
```

->uploads 파일 새로 생김
이 파일을 git ignore에도 추가(내 사진들이 업로드되는 것 원치 않으므로)

rooms의 models.py와 users의 models.py에 각각 upload_to를 추가해준다

```python
class Photo(core_models.TimeStampedModel):

    file = models.ImageField(upload_to="room_photos")
```

users의 models.py

```python
class User(AbstractUser):  # User(models.Model)가 아님
    # docstring, 클래스 만들 때마다 이런 문구 넣어서 무슨 클래스인지 알려줌
    avatar = models.ImageField(upload_to="avatars", blank=True)

```

1. FileField
   rooms의 models.py Photo의 ImageField
   ImageField를 사용, ImageField는 클래스 파일 필드에서 옴
   ImageField는 image만을 위한 것이고 파일은 파일을 위한 것임
   ImageField는 upload_to 가질 수 있음
   uploads 폴더 안의 어떤 폴더에 photo를 업로드할 것인지
   upload_to = “room_photos” -> uploads폴더 안에 해당 폴더 생김
   users-models-avatar upload_to =“avatars”

makemigrations- migrate
-->avatars, room_folders 폴더 가짐

그러나 장고는 여전히 /uploads/room_photos 안에 들어갈 수 없음
다음 섹션에서 해결
